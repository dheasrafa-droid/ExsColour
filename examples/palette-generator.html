<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExsColour - Palette Generator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 { color: #1a73e8; margin-bottom: 20px; }
        .controls { background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; }
        .input-group { margin: 10px 0; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select, button { padding: 10px; border-radius: 6px; border: 1px solid #ddd; font-size: 16px; }
        button { background: #1a73e8; color: white; border: none; cursor: pointer; }
        button:hover { background: #0d62d9; }
        .palette-container { display: flex; gap: 2px; margin: 20px 0; }
        .colour-item { flex: 1; height: 80px; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
        .export-options { margin-top: 20px; padding: 20px; background: white; border-radius: 12px; }
        .code-block { background: #f5f5f5; padding: 15px; border-radius: 8px; font-family: monospace; overflow-x: auto; }
    </style>
    <script type="module">
        import ExsColourSystem from '../src/ExsColourSystem.js';
        
        window.ExsColour = ExsColourSystem;
        
        document.addEventListener('DOMContentLoaded', () => {
            const baseColourInput = document.getElementById('baseColour');
            const paletteTypeSelect = document.getElementById('paletteType');
            const paletteSizeInput = document.getElementById('paletteSize');
            const generateBtn = document.getElementById('generateBtn');
            const paletteContainer = document.getElementById('paletteContainer');
            const exportFormat = document.getElementById('exportFormat');
            const exportBtn = document.getElementById('exportBtn');
            const exportOutput = document.getElementById('exportOutput');
            
            baseColourInput.value = '#1A73E8';
            
            generateBtn.addEventListener('click', generatePalette);
            exportBtn.addEventListener('click', exportPalette);
            
            function generatePalette() {
                const baseColour = baseColourInput.value;
                const paletteType = paletteTypeSelect.value;
                const paletteSize = parseInt(paletteSizeInput.value);
                
                let palette;
                switch(paletteType) {
                    case 'monochromatic':
                        palette = ExsColourSystem.ExsColourPalette.monochromatic(baseColour, paletteSize);
                        break;
                    case 'analogous':
                        palette = ExsColourSystem.ExsColourPalette.analogous(baseColour, 30, paletteSize);
                        break;
                    case 'complementary':
                        palette = ExsColourSystem.ExsColourPalette.complementary(baseColour, paletteSize - 2);
                        break;
                    case 'triadic':
                        palette = ExsColourSystem.ExsColourPalette.triadic(baseColour);
                        break;
                    case 'random':
                        const colours = [];
                        for (let i = 0; i < paletteSize; i++) {
                            colours.push(ExsColourSystem.createColour().random());
                        }
                        palette = ExsColourSystem.createPalette(colours, 'random');
                        break;
                }
                
                displayPalette(palette);
                window.currentPalette = palette;
            }
            
            function displayPalette(palette) {
                paletteContainer.innerHTML = '';
                palette.forEach((colour, index) => {
                    const colourItem = document.createElement('div');
                    colourItem.className = 'colour-item';
                    colourItem.style.background = colour.toString();
                    colourItem.textContent = colour.toHex();
                    colourItem.title = `HSL: ${colour.hsl.h}Â°, ${colour.hsl.s}%, ${colour.hsl.l}%`;
                    paletteContainer.appendChild(colourItem);
                });
            }
            
            function exportPalette() {
                if (!window.currentPalette) return;
                
                const format = exportFormat.value;
                const exported = window.currentPalette.export(format);
                
                if (format === 'json') {
                    exportOutput.textContent = JSON.stringify(exported, null, 2);
                } else {
                    exportOutput.textContent = exported;
                }
            }
            
            // Generate initial palette
            generatePalette();
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¨ ExsColour - Palette Generator</h1>
        
        <div class="controls">
            <div class="input-group">
                <label for="baseColour">Base Colour:</label>
                <input type="color" id="baseColour" value="#1A73E8">
            </div>
            
            <div class="input-group">
                <label for="paletteType">Palette Type:</label>
                <select id="paletteType">
                    <option value="monochromatic">Monochromatic</option>
                    <option value="analogous">Analogous</option>
                    <option value="complementary">Complementary</option>
                    <option value="triadic">Triadic</option>
                    <option value="random">Random</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="paletteSize">Number of Colours:</label>
                <input type="number" id="paletteSize" min="2" max="20" value="5">
            </div>
            
            <button id="generateBtn">Generate Palette</button>
        </div>
        
        <div id="paletteContainer" class="palette-container"></div>
        
        <div class="export-options">
            <h3>Export Palette</h3>
            <select id="exportFormat">
                <option value="css">CSS Variables</option>
                <option value="scss">SCSS Variables</option>
                <option value="less">LESS Variables</option>
                <option value="json">JSON</option>
                <option value="array">Array</option>
            </select>
            <button id="exportBtn">Export</button>
            
            <div class="code-block">
                <pre id="exportOutput">Select format and click Export</pre>
            </div>
        </div>
    </div>
</body>
</html>
